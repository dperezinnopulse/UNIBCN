<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Manual de Usuario · Adjuntos</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; line-height:1.5; color:#111; margin:0 }
    header { background:#fff; border-bottom:1px solid #e5e7eb; padding:16px 22px }
    .brand { display:flex; align-items:center; gap:12px }
    .brand img { height:40px }
    main { max-width:980px; margin:0 auto; padding:24px }
    nav a { color:#0b5ed7; margin-right: 16px; text-decoration:none; font-weight:600 }
    figure { margin:16px 0 }
    figure img { max-width:100%; border:1px solid #e5e7eb; border-radius:8px; box-shadow:0 2px 12px rgba(0,0,0,.06); cursor: zoom-in }
    figcaption { color:#555; font-size:.9rem; margin-top:8px }
    .lightbox { position:fixed; inset:0; background:rgba(0,0,0,.85); display:none; align-items:center; justify-content:center; z-index:9999 }
    .lightbox.open { display:flex }
    .lightbox img { max-width:92vw; max-height:92vh; border-radius:10px; box-shadow:0 6px 30px rgba(0,0,0,.5); cursor: zoom-out }
    .lightbox .hint { position:fixed; bottom:24px; color:#ddd; font-size:.9rem }
  </style>
</head>
<body class="manual-layout">
  <div id="manualMenuContainer"></div>
  <link rel="stylesheet" href="./manual-menu.css"/>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.js"></script>
  <script src="./manual-menu.js"></script>
  <div class="manual-content">
  <header>
    <div class="brand">
      <img src="/img/logo_ub.png" alt="UB"/>
      <div>
        <nav>
          <a href="./index.html">Manual de Usuario</a>
          <span>·</span>
          <span style="color:#333">Adjuntos</span>
        </nav>
        <div class="nav-more">
          <a href="./login.html">Login</a>
          <a href="./crear-actividad.html">Crear Actividad</a>
          <a href="./mensajes.html">Mensajes</a>
          <a href="./cambios-estado.html">Cambios de estado</a>
          <a href="./admin-usuarios.html">Admin usuarios</a>
          <a href="./perfil.html">Perfil</a>
        </div>
        <h1 style="margin:10px 0 0 0; color:#111; font-size:1.6rem;">Adjuntar y gestionar archivos</h1>
        <div class="small" style="color:#666">Subida múltiple, descripciones, lista y acciones.</div>
      </div>
    </div>
  </header>
  <main>
    <section>
      <h2>Cómo llegar</h2>
      <p>Abra una actividad desde <em>Histórico</em> o tras crearla. La sección aparece en <strong>Editar actividad</strong>.</p>
      <figure data-route="/index.html" data-selector="a.nav-link[href='historico.html']">
        <a href="/manual/assets/context/como-llegar-crear-context.png" data-lightbox>
          <img src="/manual/assets/context/como-llegar-crear-context.png" alt="Ir a crear/editar"/>
        </a>
        <figcaption>Acceso a creación y edición desde el menú lateral.</figcaption>
      </figure>
    </section>
    <section>
      <h2>Objetivo y sección</h2>
      <p>Adjuntar documentación a la actividad con <strong>varios archivos</strong> y <strong>descripción</strong>.</p>
      <figure data-route="/editar-actividad.html" data-selector="#seccion-adjuntos">
          <a href="/manual/assets/context/adjuntos-seccion-context.png" data-lightbox>
          <img src="/manual/assets/context/adjuntos-seccion-context.png" alt="Sección de adjuntos"/>
        </a>
        <figcaption>Vista general de la sección de adjuntos.</figcaption>
        <div class="meta" style="display:none">Ruta: <code>/editar-actividad.html</code> · Selector: <code>#seccion-adjuntos</code></div>
      </figure>
    </section>
    <section>
      <h2>Subida de archivos</h2>
      <ol>
        <li>Pulse en <strong>Seleccionar archivos</strong> y elija uno o varios.</li>
        <li>Opcionalmente, escriba una <em>descripción general</em>.</li>
        <li>Pulse <strong>Subir archivos</strong>.</li>
      </ol>
      <figure data-route="/editar-actividad.html" data-selector="#archivosInput">
        <a href="/manual/assets/context/adjuntos-input-context.png" data-lightbox>
          <img src="/manual/assets/context/adjuntos-input-context.png" alt="Selector de archivos"/>
        </a>
        <figcaption>Puede seleccionar varios archivos a la vez.</figcaption>
        <div class="meta" style="display:none">Ruta: <code>/editar-actividad.html</code> · Selector: <code>#archivosInput</code></div>
      </figure>
      <figure data-route="/editar-actividad.html" data-selector="#btnSubirAdjuntos">
        <a href="/manual/assets/context/adjuntos-subir-context.png" data-lightbox>
          <img src="/manual/assets/context/adjuntos-subir-context.png" alt="Botón Subir"/>
        </a>
        <figcaption>Pulse “Subir archivos” para adjuntarlos a la actividad.</figcaption>
        <div class="meta" style="display:none">Ruta: <code>/editar-actividad.html</code> · Selector: <code>#btnSubirAdjuntos</code></div>
      </figure>
    </section>
    <section>
      <h2>Lista de adjuntos</h2>
      <p>Desde la lista podrá <strong>editar la descripción</strong>, <strong>descargar</strong> o <strong>eliminar</strong>.</p>
      <figure data-route="/editar-actividad.html" data-selector="#adjuntosContainer">
        <a href="/manual/assets/context/adjuntos-lista-context.png" data-lightbox>
          <img src="/manual/assets/context/adjuntos-lista-context.png" alt="Lista de adjuntos"/>
        </a>
        <figcaption>Los archivos subidos aparecerán aquí para editar su descripción, descargar o eliminar.</figcaption>
        <div class="meta" style="display:none">Ruta: <code>/editar-actividad.html</code> · Selector: <code>#adjuntosContainer</code></div>
      </figure>
    </section>
  </main>
  </div>
  <div class="lightbox" id="lb">
    <img alt="Ampliación"/>
    <div class="hint">Click o ESC para cerrar</div>
  </div>
  <script>
    (function(){
      var lb = document.getElementById('lb');
      var lbImg = lb ? lb.querySelector('img') : null;
      document.addEventListener('click', function(e){
        var t = e.target; while(t && t.nodeType !== 1) t = t.parentNode; if(!t) return;
        var a = t.closest ? t.closest('a[data-lightbox]') : null; if(!a) return;
        e.preventDefault(); if(lb && lbImg){ lbImg.src = a.getAttribute('href') || ''; lb.classList.add('open'); }
      });
      document.addEventListener('keydown', function(e){ if(e.key==='Escape'&&lb) lb.classList.remove('open'); });
      if(lb) lb.addEventListener('click', function(){ lb.classList.remove('open'); });
    })();
  </script>
</body>
</html>
